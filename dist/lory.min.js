!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.Zooming={})}(this,function(e){"use strict";var t=("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{}).CustomEvent;var n=function(){try{var e=new t("cat",{detail:{foo:"bar"}});return"cat"===e.type&&"bar"===e.detail.foo}catch(e){}return!1}()?t:"undefined"!=typeof document&&"function"==typeof document.createEvent?function(e,t){var n=document.createEvent("CustomEvent");return t?n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail):n.initCustomEvent(e,!1,!1,void 0),n}:function(e,t){var n=document.createEventObject();return n.type=e,t?(n.bubbles=Boolean(t.bubbles),n.cancelable=Boolean(t.cancelable),n.detail=t.detail):(n.bubbles=!1,n.cancelable=!1,n.detail=void 0),n};var i={slidesToScroll:1,slideSpeed:300,rewindSpeed:600,snapBackSpeed:200,ease:"ease",rewind:!1,infinite:!1,initialIndex:0,classNameFrame:"js_frame",classNameSlideContainer:"js_slides",classNamePrevCtrl:"js_prev",classNameNextCtrl:"js_next",classNameActiveSlide:"active",enableMouseEvents:!1,window:window,rewindOnResize:!0},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},s=Array.prototype.slice;e.lory=function(e,t){var a=void 0,r=void 0,d=void 0,l=void 0,c=void 0,v=void 0,f=void 0,u=void 0,m=void 0,h=void 0,p=0,b={},E=!!function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}return e}()&&{passive:!0};function L(e,t){var n=b.classNameActiveSlide;e.forEach(function(e,t){e.classList.contains(n)&&e.classList.remove(n)}),e[t].classList.add(n)}function y(t,i,o){!function(e,t,i){var o=new n(t,{bubbles:!0,cancelable:!0,detail:i});e.dispatchEvent(o)}(e,t+".lory."+i,o)}function w(e,t,n){var i=v&&v.style;i&&(i[m.transition+"TimingFunction"]=n,i[m.transition+"Duration"]=t+"ms",m.hasTranslate3d?i[m.transform]="translate3d("+e+"px, 0, 0)":i[m.transform]="translate("+e+"px, 0)")}function x(e,t){var n=b,i=n.slideSpeed,o=n.slidesToScroll,c=n.infinite,v=n.rewind,m=n.rewindSpeed,E=n.ease,x=n.classNameActiveSlide,g=i,C=t?p+1:p-1,N=Math.round(r-d);y("before","slide",{index:p,nextSlide:C}),f&&f.classList.remove("disabled"),u&&u.classList.remove("disabled"),"number"!=typeof e&&(e=t?p+o:p-o),e=Math.min(Math.max(e,0),l.length-1),c&&void 0===t&&(e+=c);var S=Math.min(Math.max(-1*l[e].offsetLeft,-1*N),0);v&&Math.abs(a.x)===N&&t&&(S=0,e=0,g=m),w(S,g,E),a.x=S,l[e].offsetLeft<=N&&(p=e),!c||e!==l.length-c&&0!==e||(t&&(p=c),t||(p=l.length-2*c),a.x=-1*l[p].offsetLeft,h=function(){w(-1*l[p].offsetLeft,0,void 0)}),x&&L(s.call(l),p),f&&!c&&0===e&&f.classList.add("disabled"),!u||c||v||e+1!==l.length||u.classList.add("disabled"),y("after","slide",{currentSlide:p})}function g(){var n,r,d,h;y("before","init"),n=void 0,r=void 0,d=void 0,h=void 0,function(){var e=document.createElement("_"),t=e.style,i=void 0;""===t[i="webkitTransition"]&&(d="webkitTransitionEnd",r=i),""===t[i="transition"]&&(d="transitionend",r=i),""===t[i="webkitTransform"]&&(n=i),""===t[i="msTransform"]&&(n=i),""===t[i="transform"]&&(n=i),document.body.insertBefore(e,null),t[n]="translate3d(0, 0, 0)";var o=window.getComputedStyle(e)||global.getComputedStyle(e);h=!!o.getPropertyValue(n),document.body.removeChild(e)}(),m={transform:n,transition:r,transitionEnd:d,hasTranslate3d:h};var w,x,g,M,B=b=o({},i,t),j=B.classNameFrame,A=B.classNameSlideContainer,O=B.classNamePrevCtrl,z=B.classNameNextCtrl,D=B.enableMouseEvents,R=B.classNameActiveSlide,I=B.initialIndex;p=I,c=e.getElementsByClassName(j)[0],v=c.getElementsByClassName(A)[0],f=e.getElementsByClassName(O)[0],u=e.getElementsByClassName(z)[0],a={x:v.offsetLeft,y:v.offsetTop},b.infinite?(w=s.call(v.children),x=b.infinite,g=w.slice(0,x),M=w.slice(w.length-x,w.length),g.forEach(function(e){var t=e.cloneNode(!0);v.appendChild(t)}),M.reverse().forEach(function(e){var t=e.cloneNode(!0);v.insertBefore(t,v.firstChild)}),v.addEventListener(m.transitionEnd,k),l=s.call(v.children)):(l=s.call(v.children),f&&f.classList.add("disabled"),u&&1===l.length&&!b.rewind&&u.classList.add("disabled")),C(),R&&L(l,p),f&&u&&(f.addEventListener("click",N),u.addEventListener("click",S)),c.addEventListener("touchstart",T,E),D&&(c.addEventListener("mousedown",T),c.addEventListener("click",P)),b.window.addEventListener("resize",_),y("after","init")}function C(){var e=b,t=e.infinite,n=e.ease,i=e.rewindSpeed,o=e.rewindOnResize,f=e.classNameActiveSlide,u=e.initialIndex;r=v.getBoundingClientRect().width||v.offsetWidth,(d=c.getBoundingClientRect().width||c.offsetWidth)===r&&(r=l.reduce(function(e,t){return e+t.getBoundingClientRect().width||t.offsetWidth},0)),o?p=u:(n=null,i=0),t?(w(-1*l[p+t].offsetLeft,0,null),p+=t,a.x=-1*l[p].offsetLeft):(w(-1*l[p].offsetLeft,i,n),a.x=-1*l[p].offsetLeft),f&&L(s.call(l),p)}function N(){x(!1,!1)}function S(){x(!1,!0)}"undefined"!=typeof jQuery&&e instanceof jQuery&&(e=e[0]);var M=void 0,B=void 0,j=void 0;function k(){h&&(h(),h=void 0)}function T(e){var t=b.enableMouseEvents,n=e.touches?e.touches[0]:e;t&&(c.addEventListener("mousemove",A),c.addEventListener("mouseup",O),c.addEventListener("mouseleave",O)),c.addEventListener("touchmove",A,E),c.addEventListener("touchend",O);var i=n.pageX,o=n.pageY;M={x:i,y:o,time:Date.now()},j=void 0,B={},y("on","touchstart",{event:e})}function A(e){var t=e.touches?e.touches[0]:e,n=t.pageX,i=t.pageY;B={x:n-M.x,y:i-M.y},void 0===j&&(j=!!(j||Math.abs(B.x)<Math.abs(B.y))),!j&&M&&(e.preventDefault(),w(a.x+B.x,0,null)),y("on","touchmove",{event:e})}function O(e){var t=M?Date.now()-M.time:void 0,n=Number(t)<300&&Math.abs(B.x)>25||Math.abs(B.x)>d/3,i=!p&&B.x>0||p===l.length-1&&B.x<0,o=B.x<0;j||(n&&!i?x(!1,o):w(a.x,b.snapBackSpeed)),M=void 0,c.removeEventListener("touchmove",A),c.removeEventListener("touchend",O),c.removeEventListener("mousemove",A),c.removeEventListener("mouseup",O),c.removeEventListener("mouseleave",O),y("on","touchend",{event:e})}function P(e){B.x&&e.preventDefault()}function _(e){C(),y("on","resize",{event:e})}return g(),{setup:g,reset:C,slideTo:function(e){x(e)},returnIndex:function(){return p-b.infinite||0},prev:N,next:S,destroy:function(){y("before","destroy"),c.removeEventListener(m.transitionEnd,k),c.removeEventListener("touchstart",T,E),c.removeEventListener("touchmove",A,E),c.removeEventListener("touchend",O),c.removeEventListener("mousemove",A),c.removeEventListener("mousedown",T),c.removeEventListener("mouseup",O),c.removeEventListener("mouseleave",O),c.removeEventListener("click",P),b.window.removeEventListener("resize",_),f&&f.removeEventListener("click",N),u&&u.removeEventListener("click",S),b.infinite&&Array.apply(null,Array(b.infinite)).forEach(function(){v.removeChild(v.firstChild),v.removeChild(v.lastChild)}),y("after","destroy")}}},Object.defineProperty(e,"__esModule",{value:!0})});
